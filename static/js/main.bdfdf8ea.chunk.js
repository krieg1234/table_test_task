(this.webpackJsonptable_test_task=this.webpackJsonptable_test_task||[]).push([[0],{115:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},223:function(e,t,a){"use strict";a.r(t);var c,r=a(0),n=a.n(r),s=a(8),i=a.n(s),d=(a(115),a(12)),l=(a(116),a(117),a(15)),j=a(11),u=(a(118),a(254)),o=a(10),b=a(14),O=a(67),h=a.n(O),x=a(92),f=a(39),m=Object(f.b)("data/fetchedData",Object(x.a)(h.a.mark((function e(){var t,a,c,r,n=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"small",a={big:"http://www.filltext.com/?rows=1000&id=%7Bnumber%7C1000%7D&firstName=%7BfirstName%7D&delay=3&lastName=%7BlastName%7D&email=%7Bemail%7D&phone=%7Bphone%7C(xxx)xxx-xx-xx%7D&address=%7BaddressObject%7D&description=%7Blorem%7C32%7D",small:"http://www.filltext.com/?rows=32&id=%7Bnumber%7C1000%7D&firstName=%7BfirstName%7D&lastName=%7BlastName%7D&email=%7Bemail%7D&phone=%7Bphone%7C(xxx)xxx-xx-xx%7D&address=%7BaddressObject%7D&description=%7Blorem%7C32%7D"},e.next=4,fetch(a[t]);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))),p=Object(f.c)({name:"data",initialState:{dataById:{},allData:[],status:"idle",error:null,tableFieldsHeader:["id","firstName","lastName","email","phone"]},reducers:{addData:function(e,t){var a=t.payload,c=Object(j.a)(Object(j.a)({},a),{},{id:Number(a.id)});return Object(j.a)(Object(j.a)({},e),{},{allData:[].concat(Object(b.a)(e.allData),[c.id]),dataById:Object(j.a)(Object(j.a)({},e.dataById),{},Object(l.a)({},c.id,Object(j.a)({},c)))})}},extraReducers:(c={},Object(l.a)(c,m.pending,(function(e){e.status="loading"})),Object(l.a)(c,m.rejected,(function(e,t){var a=t.error;e.status="failed",e.error=a.message})),Object(l.a)(c,m.fulfilled,(function(e,t){var a=t.payload;e.status="success",e.allData=a.map((function(e){return e.id})),e.dataById=a.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(l.a)({},t.id,t))}),{})})),c)}),v=p.actions.addData,D=function(e){return e.data.tableFieldsHeader},g=p.reducer,y=a(93),B=a(258),C=a(2);function N(e){var t=Object(o.c)(D),a=e.sortMode,c=e.textFilter,r=e.setSortMode,s=e.currentDataId,i=e.setCurrentDataId,b=Object(o.c)((function(e){var r=e.data,n=r.allData,s=r.dataById,i=n.map((function(e){return t.reduce((function(t,a){return Object(j.a)(Object(j.a)({},t),{},Object(l.a)({},a,s[e][a]))}),{})})).filter((function(e){return t.reduce((function(t,a){return!!t||String(e[a]).includes(c)}),!1)}));if(!a.field)return i;var d=Object(y.sortBy)(i,[function(e){return e[a.field]}]);return a.isDirect?d:d.reverse()})),O=function(e){return function(t){var c=e,n=c!==a.field||!a.isDirect;r({field:c,isDirect:n})}},h=function(e){var t=[];return e===a.field&&(t.push("sortField"),a.isDirect?t.push("direct"):t.push("reverse")),t.join(" ")},x=n.a.useState(0),f=Object(d.a)(x,2),m=f[0],p=f[1],v=n.a.useState(50),g=Object(d.a)(v,2),N=g[0],w=g[1];return Object(C.jsxs)("div",{className:"data-table",children:[Object(C.jsx)(B.a,{component:"div",count:b.length,page:m,onChangePage:function(e,t){p(t)},rowsPerPage:N,onChangeRowsPerPage:function(e){w(parseInt(e.target.value,10)),p(0)}}),Object(C.jsxs)(u.a,{striped:!0,bordered:!0,hover:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:t.map((function(e){return Object(C.jsx)("th",{className:"".concat(h(e)),onClick:O(e),children:e},e)}))})}),Object(C.jsx)("tbody",{children:b.filter((function(e,t){return t>=m*N&&t<m*N+N})).map((function(e,a){return Object(C.jsx)("tr",{style:e.id===s?{fontWeight:"900"}:{},onClick:function(){return i(e.id)},children:t.map((function(t,a){return Object(C.jsx)("td",{children:e[t]},t+a)}))},a)}))})]})]})}var w=a(257),I=a(255),S=a(261),k=a(260),F=a(256),A=a(98);function M(e){var t=Object(o.b)(),a=e.setTextFilter,c=e.setCurrentDataId,n=Object(r.useState)(""),s=Object(d.a)(n,2),i=s[0],l=s[1],j=Object(r.useState)("small"),u=Object(d.a)(j,2),b=u[0],O=u[1],h=Object(o.c)((function(e){return e.data.status}));return Object(C.jsxs)("div",{className:"optionBar",children:[Object(C.jsxs)("div",{className:"displayMode-options my-5",children:[Object(C.jsx)("p",{children:"\u041d\u0430\u0431\u043e\u0440 \u0434\u0430\u043d\u043d\u044b\u0445:"}),Object(C.jsxs)(I.a,{children:[Object(C.jsx)(S.a,{disabled:"big"===b||"success"!==h,onClick:function(){c(void 0),O("big"),t(m("big"))},children:"\u0411\u043e\u043b\u044c\u0448\u043e\u0439"}),Object(C.jsx)(S.a,{disabled:"small"===b||"success"!==h,onClick:function(){O("small"),t(m("small"))},children:"\u041c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0439"})]})]}),Object(C.jsx)("div",{className:"textFilte-form my-5",children:Object(C.jsx)(k.a,{onSubmit:function(e){e.preventDefault(),a(i)},children:Object(C.jsxs)(k.a.Group,{as:F.a,children:[Object(C.jsx)(A.a,{sm:6,children:Object(C.jsx)(k.a.Control,{type:"search",placeholder:"\u043f\u043e\u0438\u0441\u043a \u043f\u043e \u0442\u0430\u0431\u043b\u0438\u0446\u0435...",value:i,onChange:function(e){return l(e.target.value)}})}),Object(C.jsx)(A.a,{sm:6,style:{textAlign:"left"},children:Object(C.jsx)(S.a,{type:"submit",disabled:!i||"success"!==h,children:"\u041f\u043e\u0438\u0441\u043a"})})]})})})]})}var q=a(106),P=a(28),$=a(259);function z(e){var t=Object(o.b)(),a=Object(o.c)(D),c=Object(o.c)((function(e){return e.data.allData})),r=a.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(l.a)({},t,""))}),{}),n=Object(q.a)({initialValues:Object(j.a)({},r),validationSchema:P.a({id:P.b().matches(/^[0-9]{1,4}$/,"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 id").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435").test("duplicateId","\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 Id \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e",(function(e){return!c.includes(Number(e))})),firstName:P.b().matches(/^([A-Z]{1}[a-z]{2,20})$/,"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0438\u043c\u0435\u043d\u0438").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435"),lastName:P.b().matches(/^([A-Z]{1}[a-z]{2,20})$/,"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u043c\u0438\u043b\u0438\u0438").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435"),email:P.b().email("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 email").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435"),phone:P.b().required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435").matches(/^[(]{1}[0-9]{3}\)[0-9]{3}[-]{1}[0-9]{4}$/,"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430")}),onSubmit:function(e){t(v(e))}}),s=Object(o.c)((function(e){return e.data.status}));return Object(C.jsxs)($.a,{children:[Object(C.jsx)($.a.Toggle,{as:S.a,variant:"link",eventKey:"0",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(C.jsx)($.a.Collapse,{eventKey:"0",children:Object(C.jsxs)(k.a,{onSubmit:n.handleSubmit,children:[Object(C.jsx)(F.a,{children:a.map((function(e){return Object(C.jsx)(A.a,{children:Object(C.jsxs)(k.a.Group,{children:[Object(C.jsx)(k.a.Label,{children:e}),Object(C.jsx)(k.a.Control,{id:e,name:e,onChange:n.handleChange,onBlur:n.handleBlur,value:n.values[e]}),n.touched[e]&&n.errors[e]?Object(C.jsx)(k.a.Text,{children:n.errors[e]}):null]})},e+"input")}))}),Object(C.jsx)(F.a,{children:Object(C.jsx)(A.a,{children:Object(C.jsx)(S.a,{disabled:"success"!==s,type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443"})})})]})})]})}function T(e){var t=e.currentDataId,a=Object(o.c)((function(e){return e.data.dataById[t]})),c=(a.id,a.firstName),r=a.lastName,n=(a.email,a.phone,a.address),s=a.description;return Object(C.jsx)("div",{className:"data-details",style:{textAlign:"left"},children:Object(C.jsx)(F.a,{children:Object(C.jsxs)(A.a,{md:6,children:[Object(C.jsxs)("p",{children:["\u0412\u044b\u0431\u0440\u0430\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",Object(C.jsx)("b",{id:"detail-name",children:"".concat(c," ").concat(r)})]}),Object(C.jsx)("p",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(C.jsx)("textarea",{id:"detail-description",rows:5,style:{width:"100%"},value:s||"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445",onChange:function(){return null}}),Object(C.jsxs)("p",{children:["\u0410\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f: ",Object(C.jsx)("b",{id:"detail-streetAddress",children:n?n.streetAddress:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})]}),Object(C.jsxs)("p",{children:["\u0413\u043e\u0440\u043e\u0434: ",Object(C.jsx)("b",{id:"detail-city",children:n?n.city:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})]}),Object(C.jsxs)("p",{children:["\u041f\u0440\u043e\u0432\u0438\u043d\u0446\u0438\u044f/\u0448\u0442\u0430\u0442: ",Object(C.jsx)("b",{id:"detail-state",children:n?n.state:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})]}),Object(C.jsxs)("p",{children:["\u0418\u043d\u0434\u0435\u043a\u0441: ",Object(C.jsx)("b",{id:"detail-zip",children:n?n.zip:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})]})]})})})}var _=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return{status:e.data.status,error:e.data.error}}));Object(r.useEffect)((function(){"idle"===t.status&&e(m())}),[t,e]);var a=Object(r.useState)("smallData"),c=Object(d.a)(a,2),n=(c[0],c[1],Object(r.useState)({field:"id",isDirect:!0})),s=Object(d.a)(n,2),i=s[0],l=s[1],j=Object(r.useState)(""),u=Object(d.a)(j,2),b=u[0],O=u[1],h=Object(r.useState)(void 0),x=Object(d.a)(h,2),f=x[0],p=x[1],v={loading:Object(C.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),failed:Object(C.jsxs)("div",{children:["\u041e\u0448\u0438\u0431\u043a\u0430! ",t.error]}),success:Object(C.jsx)(N,{setSortMode:l,sortMode:i,textFilter:b,currentDataId:f,setCurrentDataId:p})};return Object(C.jsx)("div",{className:"App",children:Object(C.jsxs)(w.a,{children:[Object(C.jsx)(M,{setCurrentDataId:p,setTextFilter:O}),Object(C.jsx)(z,{}),v[t.status],f?Object(C.jsx)(T,{currentDataId:f}):Object(C.jsx)("p",{children:"\u0414\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439, \u0432\u044b\u0434\u0435\u043b\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443"})]})})},W=Object(f.a)({reducer:{data:g}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(o.a,{store:W,children:Object(C.jsx)(_,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[223,1,2]]]);
//# sourceMappingURL=main.bdfdf8ea.chunk.js.map